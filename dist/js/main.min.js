!function(){var e=function(e,t,o){return t+"-"+o.toLowerCase()},t=function(t,o){return window.getComputedStyle?(o=o.replace(/([a-z])([A-Z])/,e),window.getComputedStyle(t,null).getPropertyValue(o)):t.currentStyle?t.currentStyle[o]:t.style[o]},o=function(e,o){var r,n=100,s={pixel:"px",percent:"%",inch:"in",cm:"cm",mm:"mm",point:"pt",pica:"pc",em:"em",ex:"ex"},i={},l={},a=t(e,o),c=a.match(/\d+/);if(null===c)throw"Invalid property value returned";c=c[0];var u=a.match(/\D+$/);u=null==u?s.pixel:u[0];var d;for(r in s)if(s[r]==u){d=r;break}if(!d)throw"Unit not found in map";var h=document.createElement("div");h.style.overflow="hidden",h.style.visibility="hidden",e.parentElement.appendChild(h);for(r in s)h.style.width=n+s[r],i[r]=n/h.offsetWidth;for(r in s)l[r]=c*i[r]*i[d];return e.parentElement.removeChild(h),l};window.getUnits=this.getUnits=o}();var jscolor={dir:"",bindClass:"color",binding:!0,preloading:!0,install:function(){jscolor.addEvent(window,"load",jscolor.init)},init:function(){jscolor.binding&&jscolor.bind(),jscolor.preloading&&jscolor.preload()},getDir:function(){if(!jscolor.dir){var e=jscolor.detectDir();jscolor.dir=e!==!1?e:"jscolor/"}return jscolor.dir},detectDir:function(){for(var e=location.href,t=document.getElementsByTagName("base"),o=0;o<t.length;o+=1)t[o].href&&(e=t[o].href);for(var t=document.getElementsByTagName("script"),o=0;o<t.length;o+=1)if(t[o].src&&/(^|\/)jscolor\.js([?#].*)?$/i.test(t[o].src)){var r=new jscolor.URI(t[o].src),n=r.toAbsolute(e);return n.path=n.path.replace(/[^\/]+$/,""),n.query=null,n.fragment=null,n.toString()}return!1},bind:function(){for(var e=new RegExp("(^|\\s)("+jscolor.bindClass+")(\\s*(\\{[^}]*\\})|\\s|$)","i"),t=document.getElementsByTagName("input"),o=0;o<t.length;o+=1){var r;if(!t[o].color&&t[o].className&&(r=t[o].className.match(e))){var n={};if(r[4])try{n=new Function("return ("+r[4]+")")()}catch(s){}t[o].color=new jscolor.color(t[o],n)}}},preload:function(){for(var e in jscolor.imgRequire)jscolor.imgRequire.hasOwnProperty(e)&&jscolor.loadImage(e)},images:{pad:[181,101],sld:[16,101],cross:[15,15],arrow:[7,11]},imgRequire:{},imgLoaded:{},requireImage:function(e){jscolor.imgRequire[e]=!0},loadImage:function(e){jscolor.imgLoaded[e]||(jscolor.imgLoaded[e]=new Image,jscolor.imgLoaded[e].src=jscolor.getDir()+e)},fetchElement:function(e){return"string"==typeof e?document.getElementById(e):e},addEvent:function(e,t,o){e.addEventListener?e.addEventListener(t,o,!1):e.attachEvent&&e.attachEvent("on"+t,o)},fireEvent:function(e,t){if(e)if(document.createEvent){var o=document.createEvent("HTMLEvents");o.initEvent(t,!0,!0),e.dispatchEvent(o)}else if(document.createEventObject){var o=document.createEventObject();e.fireEvent("on"+t,o)}else e["on"+t]&&e["on"+t]()},getElementPos:function(e){var t=e,o=e,r=0,n=0;if(t.offsetParent)do r+=t.offsetLeft,n+=t.offsetTop;while(t=t.offsetParent);for(;(o=o.parentNode)&&"BODY"!==o.nodeName.toUpperCase();)r-=o.scrollLeft,n-=o.scrollTop;return[r,n]},getElementSize:function(e){return[e.offsetWidth,e.offsetHeight]},getRelMousePos:function(e){var t=0,o=0;return e||(e=window.event),"number"==typeof e.offsetX?(t=e.offsetX,o=e.offsetY):"number"==typeof e.layerX&&(t=e.layerX,o=e.layerY),{x:t,y:o}},getViewPos:function(){return"number"==typeof window.pageYOffset?[window.pageXOffset,window.pageYOffset]:document.body&&(document.body.scrollLeft||document.body.scrollTop)?[document.body.scrollLeft,document.body.scrollTop]:document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)?[document.documentElement.scrollLeft,document.documentElement.scrollTop]:[0,0]},getViewSize:function(){return"number"==typeof window.innerWidth?[window.innerWidth,window.innerHeight]:document.body&&(document.body.clientWidth||document.body.clientHeight)?[document.body.clientWidth,document.body.clientHeight]:document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?[document.documentElement.clientWidth,document.documentElement.clientHeight]:[0,0]},URI:function(e){function t(e){for(var t="";e;)if("../"===e.substr(0,3)||"./"===e.substr(0,2))e=e.replace(/^\.+/,"").substr(1);else if("/./"===e.substr(0,3)||"/."===e)e="/"+e.substr(3);else if("/../"===e.substr(0,4)||"/.."===e)e="/"+e.substr(4),t=t.replace(/\/?[^\/]*$/,"");else if("."===e||".."===e)e="";else{var o=e.match(/^\/?[^\/]*/)[0];e=e.substr(o.length),t+=o}return t}this.scheme=null,this.authority=null,this.path="",this.query=null,this.fragment=null,this.parse=function(e){var t=e.match(/^(([A-Za-z][0-9A-Za-z+.-]*)(:))?((\/\/)([^\/?#]*))?([^?#]*)((\?)([^#]*))?((#)(.*))?/);return this.scheme=t[3]?t[2]:null,this.authority=t[5]?t[6]:null,this.path=t[7],this.query=t[9]?t[10]:null,this.fragment=t[12]?t[13]:null,this},this.toString=function(){var e="";return null!==this.scheme&&(e=e+this.scheme+":"),null!==this.authority&&(e=e+"//"+this.authority),null!==this.path&&(e+=this.path),null!==this.query&&(e=e+"?"+this.query),null!==this.fragment&&(e=e+"#"+this.fragment),e},this.toAbsolute=function(e){var e=new jscolor.URI(e),o=this,r=new jscolor.URI;return null===e.scheme?!1:(null!==o.scheme&&o.scheme.toLowerCase()===e.scheme.toLowerCase()&&(o.scheme=null),null!==o.scheme?(r.scheme=o.scheme,r.authority=o.authority,r.path=t(o.path),r.query=o.query):(null!==o.authority?(r.authority=o.authority,r.path=t(o.path),r.query=o.query):(""===o.path?(r.path=e.path,r.query=null!==o.query?o.query:e.query):("/"===o.path.substr(0,1)?r.path=t(o.path):(r.path=null!==e.authority&&""===e.path?"/"+o.path:e.path.replace(/[^\/]+$/,"")+o.path,r.path=t(r.path)),r.query=o.query),r.authority=e.authority),r.scheme=e.scheme),r.fragment=o.fragment,r)},e&&this.parse(e)},color:function(e,t){function o(e,t,o){var r=Math.min(Math.min(e,t),o),n=Math.max(Math.max(e,t),o),s=n-r;if(0===s)return[null,0,n];var i=e===r?3+(o-t)/s:t===r?5+(e-o)/s:1+(t-e)/s;return[6===i?0:i,s/n,n]}function r(e,t,o){if(null===e)return[o,o,o];var r=Math.floor(e),n=r%2?e-r:1-(e-r),s=o*(1-t),i=o*(1-t*n);switch(r){case 6:case 0:return[o,i,s];case 1:return[i,o,s];case 2:return[s,o,i];case 3:return[s,i,o];case 4:return[i,s,o];case 5:return[o,s,i]}}function n(){delete jscolor.picker.owner,document.getElementsByTagName("body")[0].removeChild(jscolor.picker.boxB)}function s(t,o){function r(){var e=g.pickerInsetColor.split(/\s+/),t=e.length<2?e[0]:e[1]+" "+e[0]+" "+e[0]+" "+e[1];u.btn.style.borderColor=t}if(!jscolor.picker){jscolor.picker={box:document.createElement("div"),boxB:document.createElement("div"),pad:document.createElement("div"),padB:document.createElement("div"),padM:document.createElement("div"),sld:document.createElement("div"),sldB:document.createElement("div"),sldM:document.createElement("div"),btn:document.createElement("div"),btnS:document.createElement("span"),btnT:document.createTextNode(g.pickerCloseText)};for(var n=0,s=4;n<jscolor.images.sld[1];n+=s){var c=document.createElement("div");c.style.height=s+"px",c.style.fontSize="1px",c.style.lineHeight="0",jscolor.picker.sld.appendChild(c)}jscolor.picker.sldB.appendChild(jscolor.picker.sld),jscolor.picker.box.appendChild(jscolor.picker.sldB),jscolor.picker.box.appendChild(jscolor.picker.sldM),jscolor.picker.padB.appendChild(jscolor.picker.pad),jscolor.picker.box.appendChild(jscolor.picker.padB),jscolor.picker.box.appendChild(jscolor.picker.padM),jscolor.picker.btnS.appendChild(jscolor.picker.btnT),jscolor.picker.btn.appendChild(jscolor.picker.btnS),jscolor.picker.box.appendChild(jscolor.picker.btn),jscolor.picker.boxB.appendChild(jscolor.picker.box)}var u=jscolor.picker;if(u.box.onmouseup=u.box.onmouseout=function(){e.focus()},u.box.onmousedown=function(){y=!0},u.box.onmousemove=function(e){(w||j)&&(w&&h(e),j&&p(e),document.selection?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges(),m())},"ontouchstart"in window){var d=function(e){var t={offsetX:e.touches[0].pageX-x.X,offsetY:e.touches[0].pageY-x.Y};(w||j)&&(w&&h(t),j&&p(t),m()),e.stopPropagation(),e.preventDefault()};u.box.removeEventListener("touchmove",d,!1),u.box.addEventListener("touchmove",d,!1)}u.padM.onmouseup=u.padM.onmouseout=function(){w&&(w=!1,jscolor.fireEvent(b,"change"))},u.padM.onmousedown=function(e){switch(v){case 0:0===g.hsv[2]&&g.fromHSV(null,null,1);break;case 1:0===g.hsv[1]&&g.fromHSV(null,1,null)}j=!1,w=!0,h(e),m()},"ontouchstart"in window&&u.padM.addEventListener("touchstart",function(e){x={X:e.target.offsetParent.offsetLeft,Y:e.target.offsetParent.offsetTop},this.onmousedown({offsetX:e.touches[0].pageX-x.X,offsetY:e.touches[0].pageY-x.Y})}),u.sldM.onmouseup=u.sldM.onmouseout=function(){j&&(j=!1,jscolor.fireEvent(b,"change"))},u.sldM.onmousedown=function(e){w=!1,j=!0,p(e),m()},"ontouchstart"in window&&u.sldM.addEventListener("touchstart",function(e){x={X:e.target.offsetParent.offsetLeft,Y:e.target.offsetParent.offsetTop},this.onmousedown({offsetX:e.touches[0].pageX-x.X,offsetY:e.touches[0].pageY-x.Y})});var f=i(g);u.box.style.width=f[0]+"px",u.box.style.height=f[1]+"px",u.boxB.style.position="absolute",u.boxB.style.clear="both",u.boxB.style.left=t+"px",u.boxB.style.top=o+"px",u.boxB.style.zIndex=g.pickerZIndex,u.boxB.style.border=g.pickerBorder+"px solid",u.boxB.style.borderColor=g.pickerBorderColor,u.boxB.style.background=g.pickerFaceColor,u.pad.style.width=jscolor.images.pad[0]+"px",u.pad.style.height=jscolor.images.pad[1]+"px",u.padB.style.position="absolute",u.padB.style.left=g.pickerFace+"px",u.padB.style.top=g.pickerFace+"px",u.padB.style.border=g.pickerInset+"px solid",u.padB.style.borderColor=g.pickerInsetColor,u.padM.style.position="absolute",u.padM.style.left="0",u.padM.style.top="0",u.padM.style.width=g.pickerFace+2*g.pickerInset+jscolor.images.pad[0]+jscolor.images.arrow[0]+"px",u.padM.style.height=u.box.style.height,u.padM.style.cursor="crosshair",u.sld.style.overflow="hidden",u.sld.style.width=jscolor.images.sld[0]+"px",u.sld.style.height=jscolor.images.sld[1]+"px",u.sldB.style.display=g.slider?"block":"none",u.sldB.style.position="absolute",u.sldB.style.right=g.pickerFace+"px",u.sldB.style.top=g.pickerFace+"px",u.sldB.style.border=g.pickerInset+"px solid",u.sldB.style.borderColor=g.pickerInsetColor,u.sldM.style.display=g.slider?"block":"none",u.sldM.style.position="absolute",u.sldM.style.right="0",u.sldM.style.top="0",u.sldM.style.width=jscolor.images.sld[0]+jscolor.images.arrow[0]+g.pickerFace+2*g.pickerInset+"px",u.sldM.style.height=u.box.style.height;try{u.sldM.style.cursor="pointer"}catch(k){u.sldM.style.cursor="hand"}u.btn.style.display=g.pickerClosable?"block":"none",u.btn.style.position="absolute",u.btn.style.left=g.pickerFace+"px",u.btn.style.bottom=g.pickerFace+"px",u.btn.style.padding="0 15px",u.btn.style.height="18px",u.btn.style.border=g.pickerInset+"px solid",r(),u.btn.style.color=g.pickerButtonColor,u.btn.style.font="12px sans-serif",u.btn.style.textAlign="center";try{u.btn.style.cursor="pointer"}catch(k){u.btn.style.cursor="hand"}switch(u.btn.onmousedown=function(){g.hidePicker()},u.btnS.style.lineHeight=u.btn.style.height,v){case 0:var C="hs.png";break;case 1:var C="hv.png"}u.padM.style.backgroundImage="url('"+jscolor.getDir()+"cross.gif')",u.padM.style.backgroundRepeat="no-repeat",u.sldM.style.backgroundImage="url('"+jscolor.getDir()+"arrow.gif')",u.sldM.style.backgroundRepeat="no-repeat",u.pad.style.backgroundImage="url('"+jscolor.getDir()+C+"')",u.pad.style.backgroundRepeat="no-repeat",u.pad.style.backgroundPosition="0 0",l(),a(),jscolor.picker.owner=g,document.getElementsByTagName("body")[0].appendChild(u.boxB)}function i(e){var t=[2*e.pickerInset+2*e.pickerFace+jscolor.images.pad[0]+(e.slider?2*e.pickerInset+2*jscolor.images.arrow[0]+jscolor.images.sld[0]:0),e.pickerClosable?4*e.pickerInset+3*e.pickerFace+jscolor.images.pad[1]+e.pickerButtonHeight:2*e.pickerInset+2*e.pickerFace+jscolor.images.pad[1]];return t}function l(){switch(v){case 0:var e=1;break;case 1:var e=2}var t=Math.round(g.hsv[0]/6*(jscolor.images.pad[0]-1)),o=Math.round((1-g.hsv[e])*(jscolor.images.pad[1]-1));jscolor.picker.padM.style.backgroundPosition=g.pickerFace+g.pickerInset+t-Math.floor(jscolor.images.cross[0]/2)+"px "+(g.pickerFace+g.pickerInset+o-Math.floor(jscolor.images.cross[1]/2))+"px";var n=jscolor.picker.sld.childNodes;switch(v){case 0:for(var s=r(g.hsv[0],g.hsv[1],1),i=0;i<n.length;i+=1)n[i].style.backgroundColor="rgb("+s[0]*(1-i/n.length)*100+"%,"+s[1]*(1-i/n.length)*100+"%,"+s[2]*(1-i/n.length)*100+"%)";break;case 1:var s,l,a=[g.hsv[2],0,0],i=Math.floor(g.hsv[0]),c=i%2?g.hsv[0]-i:1-(g.hsv[0]-i);switch(i){case 6:case 0:s=[0,1,2];break;case 1:s=[1,0,2];break;case 2:s=[2,0,1];break;case 3:s=[2,1,0];break;case 4:s=[1,2,0];break;case 5:s=[0,2,1]}for(var i=0;i<n.length;i+=1)l=1-1/(n.length-1)*i,a[1]=a[0]*(1-l*c),a[2]=a[0]*(1-l),n[i].style.backgroundColor="rgb("+100*a[s[0]]+"%,"+100*a[s[1]]+"%,"+100*a[s[2]]+"%)"}}function a(){switch(v){case 0:var e=2;break;case 1:var e=1}var t=Math.round((1-g.hsv[e])*(jscolor.images.sld[1]-1));jscolor.picker.sldM.style.backgroundPosition="0 "+(g.pickerFace+g.pickerInset+t-Math.floor(jscolor.images.arrow[1]/2))+"px"}function c(){return jscolor.picker&&jscolor.picker.owner===g}function u(){b===e&&g.importColor(),g.pickerOnfocus&&g.hidePicker()}function d(){b!==e&&g.importColor()}function h(e){var t=jscolor.getRelMousePos(e),o=t.x-g.pickerFace-g.pickerInset,r=t.y-g.pickerFace-g.pickerInset;switch(v){case 0:g.fromHSV(o*(6/(jscolor.images.pad[0]-1)),1-r/(jscolor.images.pad[1]-1),null,M);break;case 1:g.fromHSV(o*(6/(jscolor.images.pad[0]-1)),null,1-r/(jscolor.images.pad[1]-1),M)}}function p(e){var t=jscolor.getRelMousePos(e),o=t.y-g.pickerFace-g.pickerInset;switch(v){case 0:g.fromHSV(null,null,1-o/(jscolor.images.sld[1]-1),I);break;case 1:g.fromHSV(null,1-o/(jscolor.images.sld[1]-1),null,I)}}function m(){if(g.onImmediateChange){var e;e="string"==typeof g.onImmediateChange?new Function(g.onImmediateChange):g.onImmediateChange,e.call(g)}}this.required=!0,this.adjust=!0,this.hash=!1,this.caps=!0,this.slider=!0,this.valueElement=e,this.styleElement=e,this.onImmediateChange=null,this.hsv=[0,0,1],this.rgb=[1,1,1],this.minH=0,this.maxH=6,this.minS=0,this.maxS=1,this.minV=0,this.maxV=1,this.pickerOnfocus=!0,this.pickerMode="HSV",this.pickerPosition="bottom",this.pickerSmartPosition=!0,this.pickerButtonHeight=20,this.pickerClosable=!1,this.pickerCloseText="Close",this.pickerButtonColor="ButtonText",this.pickerFace=10,this.pickerFaceColor="ThreeDFace",this.pickerBorder=1,this.pickerBorderColor="ThreeDHighlight ThreeDShadow ThreeDShadow ThreeDHighlight",this.pickerInset=1,this.pickerInsetColor="ThreeDShadow ThreeDHighlight ThreeDHighlight ThreeDShadow",this.pickerZIndex=1e4;for(var f in t)t.hasOwnProperty(f)&&(this[f]=t[f]);this.hidePicker=function(){c()&&n()},this.showPicker=function(){if(!c()){var t,o,r,n=jscolor.getElementPos(e),l=jscolor.getElementSize(e),a=jscolor.getViewPos(),u=jscolor.getViewSize(),d=i(this);switch(this.pickerPosition.toLowerCase()){case"left":t=1,o=0,r=-1;break;case"right":t=1,o=0,r=1;break;case"top":t=0,o=1,r=-1;break;default:t=0,o=1,r=1}var h=(l[o]+d[o])/2;if(this.pickerSmartPosition)var p=[-a[t]+n[t]+d[t]>u[t]&&-a[t]+n[t]+l[t]/2>u[t]/2&&n[t]+l[t]-d[t]>=0?n[t]+l[t]-d[t]:n[t],-a[o]+n[o]+l[o]+d[o]-h+h*r>u[o]?-a[o]+n[o]+l[o]/2>u[o]/2&&n[o]+l[o]-h-h*r>=0?n[o]+l[o]-h-h*r:n[o]+l[o]-h+h*r:n[o]+l[o]-h+h*r>=0?n[o]+l[o]-h+h*r:n[o]+l[o]-h-h*r];else var p=[n[t],n[o]+l[o]-h+h*r];s(p[t],p[o])}},this.importColor=function(){b?this.adjust?!this.required&&/^\s*$/.test(b.value)?(b.value="",k.style.backgroundImage=k.jscStyle.backgroundImage,k.style.backgroundColor=k.jscStyle.backgroundColor,k.style.color=k.jscStyle.color,this.exportColor(C|E)):this.fromString(b.value)||this.exportColor():this.fromString(b.value,C)||(k.style.backgroundImage=k.jscStyle.backgroundImage,k.style.backgroundColor=k.jscStyle.backgroundColor,k.style.color=k.jscStyle.color,this.exportColor(C|E)):this.exportColor()},this.exportColor=function(e){if(!(e&C)&&b){var t=this.toString();this.caps&&(t=t.toUpperCase()),this.hash&&(t="#"+t),b.value=t}e&E||!k||(k.style.backgroundImage="none",k.style.backgroundColor="#"+this.toString(),k.style.color=.213*this.rgb[0]+.715*this.rgb[1]+.072*this.rgb[2]<.5?"#FFF":"#000"),e&I||!c()||l(),e&M||!c()||a()},this.fromHSV=function(e,t,o,n){null!==e&&(e=Math.max(0,this.minH,Math.min(6,this.maxH,e))),null!==t&&(t=Math.max(0,this.minS,Math.min(1,this.maxS,t))),null!==o&&(o=Math.max(0,this.minV,Math.min(1,this.maxV,o))),this.rgb=r(null===e?this.hsv[0]:this.hsv[0]=e,null===t?this.hsv[1]:this.hsv[1]=t,null===o?this.hsv[2]:this.hsv[2]=o),this.exportColor(n)},this.fromRGB=function(e,t,n,s){null!==e&&(e=Math.max(0,Math.min(1,e))),null!==t&&(t=Math.max(0,Math.min(1,t))),null!==n&&(n=Math.max(0,Math.min(1,n)));var i=o(null===e?this.rgb[0]:e,null===t?this.rgb[1]:t,null===n?this.rgb[2]:n);null!==i[0]&&(this.hsv[0]=Math.max(0,this.minH,Math.min(6,this.maxH,i[0]))),0!==i[2]&&(this.hsv[1]=null===i[1]?null:Math.max(0,this.minS,Math.min(1,this.maxS,i[1]))),this.hsv[2]=null===i[2]?null:Math.max(0,this.minV,Math.min(1,this.maxV,i[2]));var l=r(this.hsv[0],this.hsv[1],this.hsv[2]);this.rgb[0]=l[0],this.rgb[1]=l[1],this.rgb[2]=l[2],this.exportColor(s)},this.fromString=function(e,t){var o=e.match(/^\W*([0-9A-F]{3}([0-9A-F]{3})?)\W*$/i);return o?(6===o[1].length?this.fromRGB(parseInt(o[1].substr(0,2),16)/255,parseInt(o[1].substr(2,2),16)/255,parseInt(o[1].substr(4,2),16)/255,t):this.fromRGB(parseInt(o[1].charAt(0)+o[1].charAt(0),16)/255,parseInt(o[1].charAt(1)+o[1].charAt(1),16)/255,parseInt(o[1].charAt(2)+o[1].charAt(2),16)/255,t),!0):!1},this.toString=function(){return(256|Math.round(255*this.rgb[0])).toString(16).substr(1)+(256|Math.round(255*this.rgb[1])).toString(16).substr(1)+(256|Math.round(255*this.rgb[2])).toString(16).substr(1)};var g=this,v="hvs"===this.pickerMode.toLowerCase()?1:0,y=!1,b=jscolor.fetchElement(this.valueElement),k=jscolor.fetchElement(this.styleElement),w=!1,j=!1,x={},C=1,E=2,I=4,M=8;if(jscolor.addEvent(e,"focus",function(){g.pickerOnfocus&&g.showPicker()}),jscolor.addEvent(e,"blur",function(){y?y=!1:window.setTimeout(function(){y||u(),y=!1},0)}),b){var S=function(){g.fromString(b.value,C),m()};jscolor.addEvent(b,"keyup",S),jscolor.addEvent(b,"input",S),jscolor.addEvent(b,"blur",d),b.setAttribute("autocomplete","off")}switch(k&&(k.jscStyle={backgroundImage:k.style.backgroundImage,backgroundColor:k.style.backgroundColor,color:k.style.color}),v){case 0:jscolor.requireImage("hs.png");break;case 1:jscolor.requireImage("hv.png")}jscolor.requireImage("cross.gif"),jscolor.requireImage("arrow.gif"),this.importColor()}};jscolor.install(),document.addEventListener("DOMContentLoaded",function(){function e(e,t,o,r,n){this.name=e,this.posX=t,this.posY=o,this.colour=r,this.deep=n}function t(e){var t=window.getComputedStyle(e.target,null);p=[e.target.id,parseInt(t.getPropertyValue("left"),10)-e.clientX,parseInt(t.getPropertyValue("top"),10)-e.clientY],e.dataTransfer.setData("text/plain",p),document.getElementById("r_"+e.target.id).classList.add("current")}function o(e){var t=document.getElementById(p[0]);return t.style.left=(100*(e.clientX+parseInt(p[1],10))/v).toFixed(2)+"%",t.style.top=(100*(e.clientY+parseInt(p[2],10))/y).toFixed(2)+"%",e.preventDefault(),!1}function r(e){var t=document.getElementById(p[0]);t.style.left=(100*(e.clientX+parseInt(p[1],10))/v).toFixed(2)+"%",t.style.top=(100*(e.clientY+parseInt(p[2],10))/y).toFixed(2)+"%";for(var o=0;o<g.length;o++)g[o].name==p[0]&&(g[o].posX=t.style.left,g[o].posY=t.style.top,g[o].colour=t.dataset.colour,g[o].deep=t.dataset.deep);return n(x.value),u(),document.getElementById("r_"+t.id).classList.remove("current"),e.preventDefault(),!1}function n(e){for(var t=[],o=0;o<g.length;o++)t.push("radial-gradient(circle at "+g[o].posX+" "+g[o].posY+", "+g[o].colour+", transparent "+g[o].deep+")");t.push(void 0!=e?"radial-gradient(circle at 50% 50%, "+e+", "+e+" 100%)":"radial-gradient(circle at 50% 50%, #000, #000 100%)"),document.body.style.background=t.toString(),console.log(t.toString());var r=g.reduce(function(e,t,o){return e[o]=t,e},{});console.log(JSON.stringify(r))}function s(e,t,o){for(var r=0,n=e.length;n>r;r++)if(e[r][o]===t)return r;return-1}function i(e){var t=document.getElementById(e),o=document.getElementById("r_"+e);t.parentNode.removeChild(t),o.parentNode.removeChild(o);var r=s(g,e,"name");r>-1&&g.splice(r,1),0==g.length&&(j.checked=!1,document.querySelector(".points").classList.add("empty")),a(),n(x.value)}function l(e){e>0&&(g.move(e,e-1),a(),n(x.value))}function a(){w.innerHTML="";for(var e=g.length-1;e>=0;e--){var t=w.insertRow(0);t.setAttribute("id","r_"+g[e].name);var o=t.insertCell(0);o.setAttribute("class","c_name");var r=t.insertCell(1);r.setAttribute("class","c_posX");var a=t.insertCell(2);a.setAttribute("class","c_posY");var u=t.insertCell(3);u.setAttribute("class","c_colour");var d=t.insertCell(4);d.setAttribute("class","c_deep-slider");var h=t.insertCell(5);h.setAttribute("class","c_deep-value");var p=t.insertCell(6);p.setAttribute("class","c_del");var m=t.insertCell(7);m.setAttribute("class","c_up"),o.innerHTML=g[e].name,r.innerHTML=g[e].posX,a.innerHTML=g[e].posY;var f=document.createElement("input");f.setAttribute("id","col_"+g[e].name),f.setAttribute("type","text"),f.setAttribute("class","color {hash:true,caps:false,pickerFaceColor:'transparent',pickerFace:3,pickerBorder:0,pickerInsetColor:'black'} input_colour"),f.setAttribute("value",g[e].colour),new jscolor.color(f,{hash:!0,caps:!1,pickerFaceColor:"transparent",pickerFace:3,pickerBorder:0,pickerInsetColor:"black"}),u.appendChild(f),document.querySelector("[id*=col_]").onchange=function(){var e=this.id.replace("col_","");document.getElementById(e).dataset.colour=this.value;var t=s(g,e,"name");t>-1&&(g[t].colour=this.value),n(x.value)};var v=document.createElement("button");v.setAttribute("class","del_item"),v.setAttribute("data-del",g[e].name),v.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path fill="white" d="M50,0C22.388,0,0,22.388,0,50s22.388,50,50,50s50-22.388,50-50S77.612,0,50,0z M74.731,65.894  l-8.838,8.838L50,58.838L34.106,74.731l-8.838-8.838L41.162,50L25.269,34.106l8.838-8.838L50,41.162l15.894-15.894l8.838,8.838L58.838,50L74.731,65.894z"/></svg>',p.appendChild(v),document.querySelector(".del_item").onclick=function(){i(this.dataset.del)};var y=document.createElement("input");y.setAttribute("id","slider_"+g[e].name),y.setAttribute("type","range"),y.setAttribute("min","1"),y.setAttribute("max","100"),y.setAttribute("value",parseInt(g[e].deep)),d.appendChild(y);var b=document.createElement("input");b.setAttribute("id","value_"+g[e].name),b.setAttribute("type","number"),b.setAttribute("min","1"),b.setAttribute("max","100"),b.setAttribute("pattern","[0-9]"),b.setAttribute("size","2"),h.appendChild(b),c("slider_"+g[e].name,"value_"+g[e].name),document.querySelector("[id*=value_]").onchange=function(){var e=this.id.replace("value_","");this.value>100&&(this.value=100),c(this.id,"slider_"+e),document.getElementById(e).dataset.deep=this.value+"%";var t=s(g,e,"name");t>-1&&(g[t].deep=this.value+"%"),n(x.value)},document.querySelector("[id*=value_]").addEventListener("keypress",function(e){(e.which<48||e.which>57)&&e.preventDefault()}),document.querySelector("[id*=slider_]").onchange=function(){var e=this.id.replace("slider_","");c(this.id,"value_"+e),document.getElementById(e).dataset.deep=this.value+"%";var t=s(g,e,"name");t>-1&&(g[t].deep=this.value+"%"),n(x.value)};var k=document.createElement("button");k.setAttribute("class","up_item"),k.setAttribute("data-level",e),k.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path fill="white" d="M87.031,16.719c-0.99-1.146-2.031-2.213-3.125-3.203c-1.146-0.99-2.631-2.135-4.453-3.438l-2.031-1.484C74.244,6.25,70.053,4.219,64.844,2.5C59.635,0.833,54.688,0,50,0s-9.635,0.833-14.844,2.5c-5.208,1.719-9.922,4.115-14.141,7.188S13.125,16.406,10,20.625C6.823,24.896,4.375,29.688,2.656,35C0.885,40.312,0,45.312,0,50s0.885,9.688,2.656,15c1.719,5.312,3.802,9.635,6.25,12.969l0.703,0.859c1.979,2.709,3.776,4.869,5.391,6.484c1.562,1.562,3.594,3.256,6.094,5.078c2.552,1.822,4.792,3.203,6.719,4.141c1.927,0.99,4.427,1.979,7.5,2.969l1.562,0.469C40.938,99.322,45.312,100,50,100s9.062-0.678,13.125-2.031l1.797-0.547c2.916-0.938,5.287-1.85,7.109-2.734c1.875-0.885,3.697-1.928,5.469-3.125c1.719-1.197,3.203-2.291,4.453-3.281c1.25-1.041,2.525-2.24,3.828-3.594c1.303-1.406,2.787-3.256,4.453-5.547l0.391-0.547c1.875-2.604,3.385-5.053,4.531-7.344c1.094-2.344,2.162-5.365,3.203-9.062l0.078-0.156C99.479,58.178,100,54.166,100,50c0-4.167-0.834-8.958-2.5-14.375c-1.615-5.365-3.516-9.557-5.703-12.578l-1.25-1.719C89.193,19.453,88.021,17.917,87.031,16.719M48.438,26.719h3.125L69.531,62.5H30.469L48.438,26.719"/></svg>',m.appendChild(k),document.querySelector(".up_item").onclick=function(){l(this.dataset.level)}}}function c(e,t){var o=document.getElementById(t),r=document.getElementById(e);o.value=r.value}function u(){for(var e=0;e<g.length;e++){var t=document.getElementById("r_"+g[e].name);t.querySelector(".c_name").innerHTML=g[e].name,t.querySelector(".c_posX").innerHTML=g[e].posX,t.querySelector(".c_posY").innerHTML=g[e].posY,t.querySelector(".input_colour").value=g[e].colour}}function d(){for(var e=[],t=0;t<g.length;t++)e.push(parseInt(g[t].name.replace("d","")));return Math.max.apply(Math,e)}function h(e,t){return(" "+e.className+" ").indexOf(" "+t+" ")>-1}Array.prototype.move=function(e,t){for(;0>e;)e+=this.length;for(;0>t;)t+=this.length;if(t>=this.length)for(var o=t-this.length;o--+1;)this.push(void 0);return this.splice(t,0,this.splice(e,1)[0]),this};var p,m=function(e){var t=document.createElement("div");if(t.style.color=e,!t.style.color)return null;document.head.appendChild(t);var o=getComputedStyle(t).color;if(document.head.removeChild(t),!o)return null;o.match(/\((\d+), (\d+), (\d+)/);return o},f=document.getElementById("canvas"),g=[],v=f.offsetWidth,y=f.offsetHeight,b=document.getElementById("add_point"),k=document.getElementById("set_colour"),w=document.getElementById("coords"),j=document.getElementById("open_config"),x=document.getElementById("bg-color"),C=document.getElementById("points-op");[].forEach.call(document.querySelectorAll(".dragme"),function(o){o.addEventListener("dragstart",t,!1),g.push(new e(o.id,(100*o.offsetLeft/v).toFixed(2)+"%",(100*o.offsetTop/y).toFixed(2)+"%","#fff","50%"))}),document.body.onkeyup=function(e){27==e.keyCode&&(j.checked=1==j.checked?!1:!0)},C.onclick=function(){[].forEach.call(document.querySelectorAll(".dragme"),function(e){e.classList.toggle("hide")}),this.classList.toggle("hide")},e.prototype.getInfo=function(){return this.name+" ("+this.posX+","+this.posY+") - "+this.colour+" - "+this.deep},x.onchange=function(){n(this.value)},window.onresize=function(){v=f.offsetWidth,y=f.offsetHeight},a();var E=function(){var o=document.createElement("span");o.setAttribute("draggable","true"),g.length>0?newN=d()+1:(newN=1,document.querySelector(".points").classList.remove("empty")),o.setAttribute("id","d"+newN),h(C,"hide")?o.setAttribute("class","dragme hide"):o.setAttribute("class","dragme");var r=""!==k.value&&null!==m(k.value)?k.value:"blue";k.value="",o.setAttribute("data-colour",r),o.setAttribute("data-deep","50%"),f.appendChild(o),o.addEventListener("dragstart",t,!1),g.push(new e(o.id,(100*o.offsetLeft/v).toFixed(2)+"%",(100*o.offsetTop/y).toFixed(2)+"%",r,"50%")),a(),n(x.value)};b.onclick=E,f.addEventListener("dragover",o,!1),f.addEventListener("drop",r,!1)});